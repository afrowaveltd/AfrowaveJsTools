<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Markdown Editor Demo</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../markdown/styles/editor.css">
	<style>
		body {
			font-family: sans-serif;
			padding: 2rem;
		}
		textarea, #md-wysiwyg {
			width: 100%;
			height: 300px;
			font-family: monospace;
			padding: 1rem;
			resize: vertical;
			border: 1px solid #ccc;
		}
		#md-wysiwyg {
			background: #fff;
			outline: none;
			overflow-y: auto;
			
		}
		.preview {
			width: 100%;
			min-height: 300px;
			border: 1px solid #ccc;
			padding: 1rem;
			background: #fafafa;
			overflow-y: auto;
			margin-top: 1rem;
		}
	</style>
</head>
<body>

	<div id="md-toolbar" class="mb-2 d-flex align-items-center justify-content-between">
		<div id="md-toolbar-buttons"></div>
		
	</div>

	<textarea id="md-editor" placeholder="Type some Markdown..." style="margin: 10px 0px"></textarea>
	<div id="md-wysiwyg" contenteditable="true" style="display:none;"></div>
	<div id="md-preview" class="preview"></div>

	<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-json.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-csharp.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-html.min.js"></script>

	<script type="module">
		import { MarkdownEditor } from '../markdown/editor.js';
		import { convertMarkdown } from '../markdown/converter.js';
		import { convertHtmlToMarkdown } from '../markdown/htmlToMarkdown.js';

		window.editor = new MarkdownEditor({
			elementId: 'md-editor',
			previewId: 'md-preview',
			wysiwygId: 'md-wysiwyg',
			toolbarId: 'md-toolbar-buttons',
			mode: 'split',
			streaming: false,
			autoRender: true,
			storageKey: 'demo-md'
		});

		window.switchMode = async mode => {
	await window.editor.updateVisibility(mode);
};
	</script>
</body>
</html>